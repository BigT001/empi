// localStorage cleanup - this must be run in the browser console
// Paste this into your browser's DevTools Console (F12 ‚Üí Console tab)

console.log('üóëÔ∏è  Clearing all EMPI localStorage...\n');

const keysToDelete = [
  'empi_buyer_invoices',
  'empi_admin_invoices',
  'empi_invoices',
  'buyerDashboardActiveTab',
];

keysToDelete.forEach(key => {
  const hadValue = localStorage.getItem(key) !== null;
  if (hadValue) {
    localStorage.removeItem(key);
    console.log(`‚úÖ Deleted: ${key}`);
  }
});

// Get all localStorage keys that start with 'empi'
console.log('\nüîç Checking for remaining EMPI keys...');
let empiKeys = [];
for (let i = 0; i < localStorage.length; i++) {
  const key = localStorage.key(i);
  if (key && key.includes('empi')) {
    empiKeys.push(key);
    localStorage.removeItem(key);
    console.log(`‚úÖ Deleted: ${key}`);
  }
}

if (empiKeys.length === 0 && keysToDelete.every(k => !localStorage.getItem(k))) {
  console.log('\n‚ú® All localStorage cleared!');
  console.log('Refreshing page in 2 seconds...');
  setTimeout(() => location.reload(), 2000);
} else {
  console.log('\n‚ö†Ô∏è  Some items may still exist. Refreshing...');
  setTimeout(() => location.reload(), 2000);
}
